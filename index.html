<html>
  <head>
    <style>
      body {
        background: #f2c335;
        display: flex;
        color: white;
        height: 100%;
        width: 100%;
      }

      .main {
        height: 10rem;
        margin: auto;
        display: flex;
        flex-direction: column;
      }

      svg {
        width: 100%;
        height: 100%;
        position: absolute;
        top: 0;
        left: 0;
        fill: none;
        stroke: #fff;
        stroke-width: 2;
        stroke-linecap: round;
      }

      svg path {
        transition: all 0.4s ease;
        /* stroke-dashoffset: 0; */
        /* animation: pass-by 3000ms cubic-bezier(0.785, 0.135, 0.15, 0.86)
          infinite both;
        stroke-dasharray: 7090;
        --stroke-dashoffset: 7090;
        --stroke-dashoffset-negative: -7090; */
      }
    </style>
    <script src="anime.min.js"></script>
  </head>
  <body>
    <script>
      const svg = document.createElementNS("http://www.w3.org/2000/svg", "svg");
      const { width, height } = document.body.getBoundingClientRect();

      svg.setAttribute("viewBox", `0 0 ${width} ${height}`);

      svg.addEventListener("load", ({ target }) => {
        target.onclick = function waat(e) {
          let { path } = waat;

          const rect = target.getBoundingClientRect();
          const xy = `${e.clientX - rect.x} ${e.clientY - rect.y}`;

          if (path) {
            const d =
              path.getAttribute("d") +
              ` L ${e.clientX - rect.x} ${e.clientY - rect.y}`;

            path.setAttribute("d", d);
            path.setAttribute("stroke-dashoffset", path.getTotalLength());
            path.setAttribute("stroke-dasharray", path.getTotalLength());

            svg.appendChild(path);

            setTimeout(() => {
              path.setAttribute("stroke-dashoffset", 0);
              delete waat.path;
            }, 20);

            return;
          }

          waat.path = document.createElementNS(
            "http://www.w3.org/2000/svg",
            "path"
          );

          waat.path.setAttribute("d", "M " + xy);
        };
      });

      document.body.appendChild(svg);
    </script>
  </body>
</html>
